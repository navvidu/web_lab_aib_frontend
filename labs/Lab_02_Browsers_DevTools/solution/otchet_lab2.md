# Инструменты разработчика в браузере
___________________________________________________
## Лабораторная работа №2 
> #### Задание №1. Исследование заголовков и тела обычных запросов и их ответов.
Открываем инструменты разработчика, после чего перехолим по ссылке https://ya.ru/ 
и изучем во вкладке `Network` инструментов разработчика заголовки основного запроса и ответа на него:
- Request URL
- Request Method
- Status Code
- Remote Address
- Referrer Policy
- content-type
- cache-control
- cookie
- user-agent
- referer
>``` shell
> Request URL: https://ya.ru/
> Request Method: GET
> Status Code: 200
> Remote Address: 77.88.55.242:443
> Referrer Policy: strict-origin-when-cross-origin
> Cache-Control: no-cache,no-store,max-age=0,must-revalidate
> Content-Type: text/html; charset=UTF-8
>```

##### 1. Что означает каждый из этих заголовков?
`Request URL` — URL-адрес, к которому был отправлен запрос.

`Request Method` — метод, используемый для отправки запроса, например GET, POST, PUT, DELETE.

`Status Code` — код состояния HTTP, который возвращается в ответ на запрос.

`Remote Address` — удаленный IP-адрес сервера, к которому был отправлен запрос.

`Referrer Policy` — политика, которая определяет, каким образом браузер отправляет информацию
о реферере (страница, откуда был отправлен запрос).

`Content-Type` — тип контента ответа сервера, указывает на формат данных, содержащихся 
в ответе, например text/html.

`Cache-Control` — указывает на то, как браузер должен кешировать контент и настройки кеширования.

`Cookie` — информация о cookies, содержащихся в запросе или ответе сервера.

`User-Agent` — информация о браузере или программе, которая делает запрос.

`Referer` — адрес страницы, откуда был отправлен запрос.

#### 2. Из каких частей состоит Remote Address?

- **Remote Address** состоит из IP-адреса, который идентифицирует удаленный сервер, к которому был 
отправлен запрос. IP-адрес состоит из четырех чисел, разделенных точками (77.88.55.242). 
Каждое число в адресе представляет собой байт и может иметь значения от 0 до 255. 
В данном случае присутствует значение порта (443), которое указывает на конкретный сетевой протокол или службу, с которой 
устанавливается соединение.

#### 3. Что означает порт подключения? 
- **Порт подключения** - это числовой идентификатор, который используется для определения конкретного 
сетевого протокола или службы, с которой устанавливается соединение. 

#### 4. На какие секции разделены все заголовки? Какой смысл у каждой секции?
Во вкладке `Network` заголовки запросов и ответов разделены на следующие секции:

- **General**: Эта секция содержит общую информацию о запросе или ответе, включая метод HTTP-запроса, URL, HTTP-статус и другие.
- **Request Headers**: Эта секция содержит заголовки, отправленные в запросе браузера. Здесь могут быть заголовки, такие как User-Agent, Cookie и другие.
- **Response Headers**: Эта секция содержит заголовки, полученные в ответе от сервера. Здесь могут быть заголовки, такие как Content-Type, Cache-Control и другие.
- **Request Cookies**: Эта секция содержит информацию о сохраненных куки, которые были отправлены с запросом.
- **Response Cookies**: Эта секция содержит информацию о полученных куки из ответа сервера.
  
#### 5. Какие заголовки повторяются в нескольких секциях? Какой в этом смысл?
Некоторые повторяющиеся заголовки:
- **Content-Type**: В заголовках запроса указывает на тип данных, которые отправляются на сервер. В заголовках ответа указывает на тип данных, которые возвращаются клиенту.
- **Set-Cookie**: Заголовок в запросе используется для отправки сохраненных куки на сервер, а в ответе используется для установки новых куки на клиенте.
- **User-Agent**: В заголовках запроса используется для передачи информации о браузере, отправляющем запрос. В заголовках ответа может быть использован для возвращения информации о сервере, на которой запущен сервер.

Повторяющиеся заголовки позволяют передавать и обмениваться определенными данными или метаданными между клиентом и сервером.
#### 6. Что из себя представляет тело ответа?
**Тело ответа** — это часть HTTP-ответа, которая содержит фактическое содержимое, возвращаемое сервером в ответ на запрос клиента. Он может быть представлен в виде бинарных данных, текста, изображений, видео, аудио и в других форматах.

> #### Задание №2. Исследование указывающих ответов сервера.
Делаем запрос на http://rgups.ru/ и видим, что изменился адрес в адресной строке.
```shell
> Request URL: https://rgups.ru/
> Request Method: GET
> Status Code: 200 OK
> Remote Address: 80.72.224.90:443
> Referrer Policy: strict-origin-when-cross-origin
```
1. **Из-за чего произошло изменение адреса в адресной строке? Какие заголовки в этом поучаствовали и как?**

Изменение адреса в адресной строке происходит потому, что запрос отправляется на новый URL. Когда изменяется URL и соответствующие заголовки, браузер обновляет адресную строку в соответствии с новым URL, отображая новый адрес на вкладке браузера. 
2. **Адрес был изменён в исходном запросе или потребовались дополнительные запросы, если были дополнительные запросы, то сколько?**

Дополнительные запросы в количестве 2.
3. **Какой статус ответа имеет первоначальный запрос?**
`301`
```shell
Request URL: http://rgups.ru/
Request Method: GET
Status Code: 301 Moved Permanently
Remote Address: 80.72.224.90:80
Referrer Policy: strict-origin-when-cross-origin
```
>#### Задание №3. Исследование получения и передачи cookie.
Повторим запрос на https://ya.ru/ и изучим заголовки влияющие на получение и отправку cookie параметров. 
1. 
- Заголовок `Set-Cookie`: используется сервером для отправки cookie параметров клиенту. В нем указывается название каждого параметра, значения и другие опции, такие как срок действия, путь и домен, связанные с каждым параметром cookie. 
- Заголовок `Cookie`: отправляется клиентом в каждом запросе на сервер и содержит все cookie параметры, сохраненные на стороне клиента. 
2.
- Это делается так: нажмимаем правой кнопкой мыши в любом месте на странице и выбираем "Просмотреть код элемента".
- В открывшейся панели разработчика переходим на вкладку "Application".
- В левой панели выбираем "Cookies" под пунктом "Storage".

Описание параметров cookie:

- **Name**: Это имя параметра cookie.
- **Value**: Это значение, связанное с параметром cookie. 
- **Domain**: Это домен, для которого cookie предназначены. 
- **Path**: Это путь на сервере, для которого cookie доступны. 
- **Expires**: Это время или дата, когда cookie истекает и больше не действует. 
3. Также в левой панели "Cookies" под пунктом "Storage".
4. **Cookie** - это небольшие текстовые файлы, которые хранятся на компьютере или устройстве пользователя и отправляются сервером веб-сайта при каждом взаимодействии. Они используются для передачи информации между веб-браузером пользователя и сервером, чтобы сохранять определенные данные.

Суть и назначение cookie заключаются в следующем:
- **Персонализация и сохранение предпочтений.** Cookie позволяют веб-сайтам запоминать некоторые предпочтения и настройки пользователя
- **Сохранение состояния сеанса.** Cookie позволяют сохранять информацию о состоянии сеанса между клиентом и сервером.
- **Отслеживание активности пользователя.** Cookie могут использоваться для отслеживания активности пользователя на сайте. 
- **Аналитика и реклама.**  Cookie могут быть использованы для сбора анонимной статистической информации о использовании веб-сайта, такой как количество посещений, время пребывания на сайте и действия пользователей. 
>#### Задание №4. Исследование построения документов и сопутствующих запросов.
Изучаем вкладку `Elements` и дерево тегов документа. Изучаем список запросов на вкладке `Network`.
1. **DOM (Document Object Model)** — это программное представление веб-страницы, которое браузер создает при ее загрузке, как интерфейс работы для HTML и XML документами.
2. Да, итоговый документ, который отображается в браузере, может отличаться от тела ответа, полученного от сервера. Это может происходить по нескольким причинам:
- Кэширование ресурсов
- Перенаправления 
- Изменение или дополнение DOM-структуры на клиентской стороне
3. Браузер начинает формировать несколько дополнительных запросов и ответов на основании загружаемых ресурсов на странице. 
>#### Задание №5. Определение параметров запроса.
Откроем главный сайт университета https://www.rgups.ru/services/time/. Используя инструменты разработчика и вкладку Network определим запрос и параметры запроса, позволяющие получить наше расписание.

1. Для получения вашего расписания необходимо выполнить запрос к [https://www.rgups.ru/ajax/schedule.php](https://www.rgups.ru/ajax/schedule.php?action=timetable&fac-id=1&course-id=3&group-id=26420&edu-type=internal)
2. Тело ответа:
```shell
Request URL: https://www.rgups.ru/ajax/schedule.php
Request Method: POST
Status Code: 200 OK
Remote Address: 80.72.224.90:443
Referrer Policy: strict-origin-when-cross-origin

Connection: keep-alive
Content-Type: text/html; charset=UTF-8
Date: Thu, 21 Sep 2023 13:01:24 GMT
Server: nginx/1.19.1
Vary: Accept-Encoding
X-Powered-By: PHP/7.4.33

Accept: text/html, */*; q=0.01
Connection: keep-alive
Content-Type: application/x-www-form-urlencoded; charset=UTF-8
Cookie: wire=37b81611db18da1de760236cca47bef2
Host: www.rgups.ru
Origin: https://www.rgups.ru
Referer: https://www.rgups.ru/services/time/
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36
```
3. Мы выполнили запрос типа POST, который отправляет данные на сервер для обработки.
4. Данные использованные для получения расписания:
- action: timetable
- fac-id: 1
- course-id: 3
- group-id: 26420
edu-type: internal
